(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function S(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var N={},J={get exports(){return N},set exports(t){N=t}};(function(t,u){(function(n){t.exports=n()})(function(){return function n(i,o,l){function d(r,a){if(!o[r]){if(!i[r]){var L=typeof S=="function"&&S;if(!a&&L)return L(r,!0);if(b)return b(r,!0);var g=new Error("Cannot find module '"+r+"'");throw g.code="MODULE_NOT_FOUND",g}var e=o[r]={exports:{}};i[r][0].call(e.exports,function(c){return d(i[r][1][c]||c)},e,e.exports,n,i,o,l)}return o[r].exports}for(var b=typeof S=="function"&&S,s=0;s<l.length;s++)d(l[s]);return d}({1:[function(n,i,o){Object.defineProperty(o,"__esModule",{value:!0}),o.create=o.visible=void 0;var l=function(s){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=document.createElement("div");return a.innerHTML=s.trim(),r===!0?a.children:a.firstChild},d=function(s,r){var a=s.children;return a.length===1&&a[0].tagName===r},b=function(s){return(s=s||document.querySelector(".basicLightbox"))!=null&&s.ownerDocument.body.contains(s)===!0};o.visible=b,o.create=function(s,r){var a=function(e,c){var f=l(`
		<div class="basicLightbox `.concat(c.className,`">
			<div class="basicLightbox__placeholder" role="dialog"></div>
		</div>
	`)),v=f.querySelector(".basicLightbox__placeholder");e.forEach(function(_){return v.appendChild(_)});var q=d(v,"IMG"),A=d(v,"VIDEO"),T=d(v,"IFRAME");return q===!0&&f.classList.add("basicLightbox--img"),A===!0&&f.classList.add("basicLightbox--video"),T===!0&&f.classList.add("basicLightbox--iframe"),f}(s=function(e){var c=typeof e=="string",f=e instanceof HTMLElement==1;if(c===!1&&f===!1)throw new Error("Content must be a DOM element/node or string");return c===!0?Array.from(l(e,!0)):e.tagName==="TEMPLATE"?[e.content.cloneNode(!0)]:Array.from(e.children)}(s),r=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if((e=Object.assign({},e)).closable==null&&(e.closable=!0),e.className==null&&(e.className=""),e.onShow==null&&(e.onShow=function(){}),e.onClose==null&&(e.onClose=function(){}),typeof e.closable!="boolean")throw new Error("Property `closable` must be a boolean");if(typeof e.className!="string")throw new Error("Property `className` must be a string");if(typeof e.onShow!="function")throw new Error("Property `onShow` must be a function");if(typeof e.onClose!="function")throw new Error("Property `onClose` must be a function");return e}(r)),L=function(e){return r.onClose(g)!==!1&&function(c,f){return c.classList.remove("basicLightbox--visible"),setTimeout(function(){return b(c)===!1||c.parentElement.removeChild(c),f()},410),!0}(a,function(){if(typeof e=="function")return e(g)})};r.closable===!0&&a.addEventListener("click",function(e){e.target===a&&L()});var g={element:function(){return a},visible:function(){return b(a)},show:function(e){return r.onShow(g)!==!1&&function(c,f){return document.body.appendChild(c),setTimeout(function(){requestAnimationFrame(function(){return c.classList.add("basicLightbox--visible"),f()})},10),!0}(a,function(){if(typeof e=="function")return e(g)})},close:L};return g}},{}]},{},[1])(1)})})(J);const M=document.querySelector(".input-js"),P=document.querySelector(".btn-add"),y=document.querySelector(".todo-list"),m="todo",h=JSON.parse(localStorage.getItem(m))??[];console.log(h);let p={},x=null,C=null,E=null,w=null;P.addEventListener("click",D);y.addEventListener("click",j);y.addEventListener("click",F);y.addEventListener("click",$);if(h.length){const t=h.map(I).join("");y.insertAdjacentHTML("beforeend",t)}function D(){if(!M.value.trim())return;const t={id:Date.now(),status:"todo",text:M.value};y.insertAdjacentHTML("beforeend",I(t)),h.push(t),localStorage.setItem(m,JSON.stringify(h))}function j(t){t.target.nodeName==="LI"&&(t.target.classList.contains("todo")?(t.target.classList.remove("todo"),t.target.classList.add("complete"),t.target.lastElementChild.classList.remove("btn-update"),t.target.lastElementChild.classList.add("btn-delete")):(t.target.classList.remove("complete"),t.target.classList.add("todo"),t.target.lastElementChild.classList.remove("btn-delete"),t.target.lastElementChild.classList.add("btn-update")),H(t.target))}function $(t){if(!t.target.classList.contains("btn-update"))return;console.dir(t.target.closest("li")),w=+t.target.closest("li").id;const n=JSON.parse(localStorage.getItem(m)).find(i=>i.id===w);console.log(n),p=N.create(U(n),{onShow:()=>{},onClose:i=>{x.removeEventListener("click",k),C.removeEventListener("click",O)}}),x=p.element().querySelector(".btn-close-modal"),x.addEventListener("click",k),C=p.element().querySelector(".btn-update-modal"),C.addEventListener("click",O),E=p.element().querySelector(".input-modal"),p.show()}function O(){if(!E.value.trim())return;const u=JSON.parse(localStorage.getItem(m)).map(n=>n.id===w?{...n,text:E.value}:n);console.log(u),localStorage.setItem(m,JSON.stringify(u)),p.close(),console.log("M update"),document.getElementById(w).firstElementChild.textContent=E.value}function k(){console.log("M close"),p.close()}function U({text:t}){return`<div class="modal-container">
      <div class="input-container">
        <input type="text" class="input-modal"  value="${t}" />
        <button type="button" class="btn-update-modal">Update todo</button>
      </div>
      <button type="button" class="btn-close-modal"></button>
    </div>`}function F(t){if(!t.target.classList.contains("btn-delete"))return;const n=JSON.parse(localStorage.getItem(m)).filter(i=>+t.target.closest("li").id!==i.id);t.target.closest("li").remove(),localStorage.setItem(m,JSON.stringify(n)),console.log(n)}function I({id:t,status:u,text:n}){return`<li class="${u}" id="${t}">
  <p>${n}</p>
  <button type="button" class="${u==="todo"?"btn-update":"btn-delete"}"></button>
</li>`}function H(t){const n=JSON.parse(localStorage.getItem(m)).map(i=>(i.id===Number(t.id)&&(i.status=t.classList[0]),i));localStorage.setItem(m,JSON.stringify(n))}
