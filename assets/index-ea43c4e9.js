(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const d=document.querySelector(".input-js"),g=document.querySelector(".btn-add"),i=document.querySelector(".todo-list"),a="todo",l=JSON.parse(localStorage.getItem(a))??[];console.log(l);g.addEventListener("click",p);i.addEventListener("click",f);i.addEventListener("click",m);if(l.length){const t=l.map(u).join("");i.insertAdjacentHTML("beforeend",t)}function f(t){t.target.nodeName==="LI"&&(t.target.classList.contains("todo")?(t.target.classList.remove("todo"),t.target.classList.add("complete"),t.target.lastElementChild.classList.remove("btn-update"),t.target.lastElementChild.classList.add("btn-delete")):(t.target.classList.remove("complete"),t.target.classList.add("todo"),t.target.lastElementChild.classList.remove("btn-delete"),t.target.lastElementChild.classList.add("btn-update")),L(t.target))}function m(t){if(!t.target.classList.contains("btn-delete"))return;const n=JSON.parse(localStorage.getItem(a)).filter(s=>+t.target.closest("li").id!==s.id);t.target.closest("li").remove(),localStorage.setItem(a,JSON.stringify(n)),console.log(n)}function p(){if(!d.value.trim())return;const t={id:Date.now(),status:"todo",text:d.value};i.insertAdjacentHTML("beforeend",u(t)),l.push(t),localStorage.setItem(a,JSON.stringify(l))}function u({id:t,status:r,text:n}){return`<li class="${r}" id="${t}">
  <p>${n}</p>
  <button type="button" class="${r==="todo"?"btn-update":"btn-delete"}"></button>
</li>`}function L(t){const n=JSON.parse(localStorage.getItem(a)).map(s=>(s.id===Number(t.id)&&(s.status=t.classList[0]),s));localStorage.setItem(a,JSON.stringify(n))}
